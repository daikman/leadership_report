<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <link href="https://emeraldworks.com/Content/css/styles.bundle.css?v=120768920858" rel="stylesheet" type="text/css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/6.4.0/d3.min.js" charset="utf-8"></script>
    <style media="screen">
      .footnotes-area {
        font-size: 0.8em;
        padding-left: 2%;
      }
      .md-footnote {
        background-color: #f0f0f0;
        padding: 2px;
        border-radius: 10px;
        font-size: 0.7em;
      }
      hr {
        display: block;
        margin-top: 0.5em;
        margin-bottom: 0.5em;
        margin-left: auto;
        margin-right: auto;
        border-style: inset;
        border-width: 1px;
      }
      details {
        font-size: 0.9em;
      }
      .box-banner-wrapper {
        padding-left: 15%;
        padding-right: 15%;
        font-size: 0.9em;
      }
    </style>
    <title>EW Leadership Report</title>
  </head>
<body onresize="location.reload();">
  <div class="section section--white">
    <div class="container">
      <div class="section_body" style="font-size: 1.2em; padding-left: 0%; padding-right: 0%;">

<h1><strong>Leader Perceptions of L&amp;D</strong></h1>
<div style="text-align: right;"><p>Emerald Works survey report, February 2021</p></div>
<hr>
<div style="font-size: 1.1em;">
  <p><strong>What do business leaders think about L&amp;D?</strong> How do they view its impact? What do they think L&amp;D functions should be doing? And how can L&amp;D professionals better demonstrate the value of their work to leadership?</p>
  <p>This report provides unique insights into the answers to these questions. See the <a href='#quick-summary'>summary</a> below for a quick overview, or read the whole report for a deeper exploration.</p>
  <p>If you want a bit of context surrounding data collection and analysis, find the methdology section at the bottom of the page, or click <a href="#methodology" style="text-decoration: underline;">here</a>.</p>
</div>

<br>
<div class="banner">
  <h2>Quick summary</h2>
  <br>
    <h3>Business leaders‚Äô top priorities for L&amp;D</h3>
    <ul>
      <li>.    Ensuring high quality work</li>
      <li>¬∑    Business transformation and growth</li>
      <li>¬∑    Building digital capabilities</li>
    </ul>
    <br>
    <h3>Business leaders‚Äô biggest L&amp;D concerns</h3>
    <ul>
      <li>¬∑    Focus on short-term</li>
      <li>¬∑    Lack of investment and resources</li>
      <li>¬∑    Lack of quality learning content</li>
    </ul>
    <br>
    <h3>Business leaders vs L&amp;D leaders</h3>
    <ul>
      <li>¬∑    Business leaders prioritise longer-term goals for L&amp;D</li>
      <li>¬∑    L&amp;D professionals succeed mostly in transactional activities</li>
    </ul>
    <br>
    <h3>Invisible L&amp;D</h3>
    <ul>
      <li>¬∑    Leaders expressed a lack of knowledge about L&amp;D and its impact.</li>
      <li>¬∑    Only 24% of leaders can articulate the value of learning in their business.</li>
      <li>¬∑    The average leader perceives a significant contribution to only 1 of their top 5 goals.</li>
    </ul>
    <br>
    <h3>The power of numbers</h3>
    <ul>
      <li>¬∑    The use of data analysis and performance benchmarking are the two biggest predictors of leaders‚Äô appreciation of L&amp;D‚Äôs value</li>
      <li>¬∑    Using both of the above makes company leaders <em>12 times</em> more likely to understand how investment in learning adds value to their business</li>
      <li>¬∑    Only 22% of L&amp;D functions in 2020 had data-analysis skills in-house</li>
    </ul>
</div>
<hr>

<br>
<h2><strong>Contents</strong></h2>
<div class="tab_of_cont", style="padding-left: 5%;">
  <ul>
    <li>&#8226;<a href="#intro-" style="cursor: pointer;"> &nbsp; Introduction</a></li>
    <li>&#8226;<a href="#think-" style="cursor: pointer;"> &nbsp; What do business leaders think?</a></li>
    <li>&#8226;<a href="#goals-" style="cursor: pointer;"> &nbsp; Leaders' priorities for L&D</a></li>
    <li>&#8226;<a href="#contrib-" style="cursor: pointer;"> &nbsp; Perceived contribution of L&D</a></li>
    <li>&#8226;<a href="#concern-" style="cursor: pointer;"> &nbsp; Leaders' concerns</a></li>
    <li>&#8226;<a href="#compare-" style="cursor: pointer;"> &nbsp; Comparing business leaders and L&D professionals</a></li>
    <li>&#8226;<a href="#invisible-" style="cursor: pointer;"> &nbsp; Deep Dive: Invisible L&D üîí</a></li>
    <li>&#8226;<a href="#conclusion-" style="cursor: pointer;"> &nbsp; Conclusion</a></li>
  </ul>
</div>


<br>
<h2 id="intro-"><strong>Introduction</strong></h2>
  <p>L&amp;D is becoming more and more valuable for the long-term survival of an organisation. The World Economic Forum <a href='https://www.weforum.org/reports/the-future-of-jobs-report-2018'>reported</a> that ‚Äúno less than 54% of all employees will require significant re- and upskilling‚Äù by 2022<sup class='md-footnote'><a href='#dfref-footnote-1' name='ref-footnote-1'>1</a></sup>, and that 97% of business leaders expect staff to learn new skills on the job<sup class='md-footnote'><a href='#dfref-footnote-2' name='ref-footnote-2'>2</a></sup>. A large McKinsey survey<sup class='md-footnote'><a href='#dfref-footnote-3' name='ref-footnote-3'>3</a></sup> found that 87% of executives and managers are &quot;experiencing [skill] gaps now or expect them within a few years&quot;. Due to the rate of automation and technological advancement, the role of L&amp;D is more critical than ever<sup class='md-footnote'><a href='#dfref-footnote-4' name='ref-footnote-4'>4</a></sup>.</p>
  <p>The continual impact of COVID-19 is further emphasising the importance of L&amp;D<sup class='md-footnote'><a href='#dfref-footnote-5' name='ref-footnote-5'>5</a></sup>. Not only because new skills are required to adapt to remote working conditions, but because the new normal is still in flux, and the right talent strategies can safeguard against future disruptions<sup class='md-footnote'><a href='#dfref-footnote-6' name='ref-footnote-6'>6</a></sup>. </p>
  <p>Given the importance of L&amp;D, it is crucial to understand how business leaders tend to perceive it. Previous research has found that leaders feel generally positive about learning within an organisation, but struggle to evaluate its impact<sup class='md-footnote'><a href='#dfref-footnote-7' name='ref-footnote-7'>7</a></sup><sup class='md-footnote'><a href='#dfref-footnote-8' name='ref-footnote-8'>8</a></sup>. Our data paints a similar picture, and points to a possible consequence of this evaluation problem: it appears that leaders do not fully appreciate the importance of L&amp;D, echoing external findings that the value of organisational learning &quot;still needs amplification&quot;<sup class='md-footnote'><a href='#dfref-footnote-4-1' name='ref-footnote-4-1'>4</a></sup>.</p><p>The rest of this report explores leaders&#39; perspectives on L&amp;D, investigating why they might undervalue learning and how this could be remedied.</p>


<br>
<h2 id="think-"><strong>What do business leaders think?</strong></h2>
<p>During our survey, leaders gave written comments about L&amp;D. From these comments, it is clear that leaders are generally enthusiastic about learning. Some talk passionately about the importance of learning for employees at all levels, and some applaud the work of their L&amp;D functions. However, leaders also identified problems with L&amp;D. Four themes were common among these concerns:</p>
<div style="padding: 5%; font-size: 1.2em; color: #591135">
  <p><strong>Isolated</strong>: L&amp;D feels isolated from the rest of the organisation. Leaders want cross-organisational communication.</p>
  <hr>
  <p><strong>Invisible</strong>: The impact and internal processes of L&amp;D functions are seen as invisible. Leaders want to understand the role of L&amp;D within their organisations.</p>
  <hr>
  <p><strong>Disorganised</strong>: L&amp;D is seen to be &quot;messy&quot; and poorly orchestrated. This is perceived as causing friction within the organisation, delaying growth and reducing competency.</p>
  <hr>
  <p><strong>Transactional</strong>: Leaders referred to L&amp;D as &quot;transactional&quot; or &quot;reactive&quot;. They want learning programmes with longer-term goals that seek to do more than address immediate training needs.</p>
</div>
<p>Some of these themes appear throughout this report, where leaders&#39; survey responses are fully explored.</p>

<br>
<h2 id="goals-"><strong>Leaders&#39; priorities for L&amp;D</strong></h2>
<p>We asked leaders to rank their top 5 priorities for L&amp;D. In other words, leaders told us where they&#39;d like L&amp;D activity to be directed. The area consistently ranking the highest was &quot;ensuring high quality of work&quot;. 79% of leaders placed this in their top 5 priorities and, for almost half of leaders, this was their top priority. Another highly prioritised goal was &quot;business transformation and growth&quot;, with 65% of leaders ranking this amongst their top 5 priorities for L&amp;D. </p>
<p>Before the COVID-19 pandemic, around 10% of leaders placed &quot;build digital capabilities&quot; as a top 5 priority. This has risen to almost 60%, highlighting the importance of L&amp;D both now and for maintaining the new normal of the corporate world. No other priority has shifted so dramatically since the onset of COVID-19. </p>
<p>Many issues were ranked as high priorities only a handful of times. For example, <strong>9% of leaders saw &quot;improving learning in the flow of work&quot; as a top 5 priority for L&amp;D</strong>, with less than 1% of leaders selecting this as their highest priority. Another low priority issue was staff compliance with rules and regulations: this was never selected as a top priority.</p>
<br>
<hr>
<h3>The percentage of leaders who chose the following issues as
  <select class = "h3" style = "border-style: dashed; border-radius: 4px; cursor: pointer" name="goals_choice" id="goals_choice"
  onchange = "if (this.selectedIndex == 1) {update_goal_chart(1)} else {update_goal_chart(5)}">
    <option value="5"><h3>a top 5 priority</h3></option>
    <option value="1"><h3>the top priority</h3></option>
  </select>
    for L&D</h3>
<em style="font-size:0.8em">Use the drop down menu above to manipulate this chart, and hover your mouse over any of the bars for more information</em>
<div>
  <svg id = "goal_chart"></svg>
</div>
<hr>
<p>As seen in the chart above, some of the most highly prioritised goals would involve implementing lengthy and substantial learning programmes. This, again, reveals <strong>dissatisfaction with short-term, transactional L&amp;D</strong>. Long-term vision is clearly desired by business leaders.</p>

<br>
<h2 id="contrib-"><strong>Perceived contribution of L&amp;D</strong></h2>
<p>Leaders were asked to indicate the extent to which L&amp;D contributes to each of their top 5 priorities. The average leader felt that L&amp;D made at least a small contribution to <em>all</em> of their top 5 priorities. The most common perception of L&amp;D was that it made a &quot;moderate contribution&quot; to leadership goals. Somewhat less optimistically, <strong>the average leader felt that L&amp;D made a &quot;significant contribution&quot; to only 1 of their top 5 priorities</strong>.</p>
<p>The issue perceived to be most influenced by L&amp;D was the development of a high impact learning culture. This was a top 5 priority for 32% of leaders. Improving future critical capabilities was perceived to receive the least contribution from L&amp;D activity. <strong>Almost half of leaders felt their L&amp;D function made a small or non-existent contribution to the strengthening of essential future skills</strong>. Either this means that leaders are not aware of the impact of L&amp;D in this area, or that L&amp;D professionals are falling short of closing the globally widening skill gaps that threaten the survival of organisations and the livelihoods of many employees. Either way, this again highlights how business leaders see L&D as having a short-term impact. If employees are not gaining skills for the future, they are simply gaining skills suited to immediate circumstances.</p>
<p>As hinted above, leaders' perception of L&D impact depends on the <strong>isolation</strong> and <strong>invisibility</strong> of their L&D functions. If contribution is regarded as low, then either the impact is there but leaders don&#39;t see it, or L&amp;D are not making the impact that leadership wants. If it is the former, then becoming less isolated and more visible would help leaders understand the impact of L&amp;D. If it is the latter, then L&amp;D‚Äôs poor impact on the business may be a symptom of a strategy in misalignment with leadership priorities.</p>
<br>
<hr>
<h3>How leaders perceived L&D contributions to their top 5 priorities -
  <select class = "h3" style = "border-style: dashed; border-radius: 4px; cursor: pointer" name="goals_choice" id="goals_choice"
  onchange = "if (this.selectedIndex == 0) {update_contrib(stacked_goals)} else
  { if (this.selectedIndex == 1) {update_contrib(stacked_goals_eu)} else {
    update_contrib(stacked_goals_am)
  }
}">
    <option><h3>Global</h3></option>
    <option><h3>Europe</h3></option>
    <option><h3>Americas</h3></option>
  </select>
</h3>
<em style="font-size:0.8em">Hover your mouse over any of the bars for more information. "Global" includes Europe, the Americas, Asia, Africa and Oceania.</em>

<div>
  <svg id="contrib_legend"></svg>
  <svg id="contrib_chart"></svg>
</div>
<hr>

<br>
<h2 id="concern-"><strong>Leaders&#39; concerns</strong></h2>
<p>Consistent with leaders&#39; comments about <strong>transactional</strong> L&amp;D, the most concerning issue for leaders was the short-term focus of their L&amp;D function. 40% of leaders said this was &quot;somewhat&quot; concerning, while 34% of leaders were &quot;extremely&quot; concerned about it. In other words, <strong>nearly three quarters of leaders were concerned about their L&amp;D function&#39;s short-term focus</strong>. The second most concerning issue was a lack of investment and resources, with 29% of leaders expressing extreme concern about this. In one sense, a high level of concern is negative, highlighting L&amp;D&#39;s shortfalls. However, it may also be positive. Leadership concern implies leadership interest. If leaders did not care about L&amp;D, they would not be so concerned about barriers to its success.</p>
<p>Issues that leaders found least concerning were: focus on individual rather than team success; structural change in the learning team; line manager engagement with learning. However, over 50% of leaders expressed at least some concern about all potential barriers in our survey.</p>
<br>
<hr>
<h3>Leaders&#39; concerns about L&D -
  <select class = "h3" style = "border-style: dashed; border-radius: 4px; cursor: pointer" name="goals_choice" id="goals_choice"
  onchange = "if (this.selectedIndex == 0) {update_concern(stacked_concern)} else
  { if (this.selectedIndex == 1) {update_concern(stacked_concern_eu)} else {
    update_concern(stacked_concern_am)
  }
}">
    <option><h3>Global</h3></option>
    <option><h3>Europe</h3></option>
    <option><h3>Americas</h3></option>
  </select>
</h3>
<em style="font-size:0.8em">Hover your mouse over any of the bars for more information. "Global" includes Europe, the Americas, Asia, Africa and Oceania.</em>

<div>
  <svg id="concern_legend"></svg>
  <svg id="concern_chart"></svg>
</div>
<hr>

<br>
<h2 id="compare-"><strong>Comparing business leaders and L&amp;D professionals</strong> </h2>
<p>Using data from thousands of L&amp;D professionals around the world, we can compare their priorities with those of business leaders. There are often disagreements between the two perspectives. For example, L&amp;D professionals&#39; biggest priority is developing the learning culture within their organisation. This is the top priority for only 5% of leaders. Some issues are prioritised to roughly the same extent: supporting business expansion is one of the lowest priorities for L&amp;D professionals and also a low priority for leaders, with only 16% of leaders naming this as a top 5 priority.</p>
<p>Going a step further, we can compare the successes reported by L&amp;D leaders to business leadership&#39;s priorities. The most successful endeavour of L&amp;D functions is the improvement of employee compliance with rules and regulations: 75% succeed in their efforts to do this. From the leaders&#39; perspective, compliance with rules and regulations was <strong>never</strong> a top priority for L&amp;D. In other words, despite L&amp;D&#39;s performance in this area, leaders do not feel it should be a principle driver of L&amp;D activity.</p>
<p>You can explore these comparisons further by using the interactive visualisation below.</p>
<br>
<hr>
<!-- <h3>Leadership and L&D priorities, and L&D success</h3> -->
<div>
  <!-- <br> -->
  <svg id="compare_chart"></svg>
  <div style="padding-left: 1%; padding-bottom: 1%; font-size: 0.8em">
    <p><strong>How to use</strong>: click on a priority area in the left-hand column. The rest of the chart will update to show you how leaders and L&amp;D professionals rank this priority, and the L&amp;D success in this area.
    <br><strong style="font-size: 1.2em">*</strong>Percentage of success refers to the proportion of L&D professionals who said their department have made successful contributions to the selected priority.
      "2021 average" refers to all data from <em>2020</em>, establishing a benchmark for 2021.
      "Top performers" refers to the most well developed departments of 2020, considering a wide range of factors.</p>
  </div>
</div>
<hr>

<br>
<h2 id="invisible-"><strong>Deep Dive: Invisible L&amp;D</strong> &#128274;</h2>
<p>As discussed above, one key insight from our data was a disconnect between leadership and L&amp;D professionals. Many leaders in our survey expressed a lack of knowledge about their L&amp;D function, with one leader describing L&amp;D as &quot;invisible&quot; within their organisation. Leaders lack knowledge about the internal structure and goals of L&amp;D. This may be explained by the fact that <strong>only 25% of leaders felt their L&amp;D function regularly communicates with senior leadership</strong> to set goals, request feedback and report performance.</p>
<p>In addition to the internal aspects of L&amp;D, the <em>impact</em> of L&amp;D can also fly under the leadership radar. Invisibility of impact is perhaps best explained by the divide between the priorities of leaders and the achievements of L&amp;D. We have seen that leaders are frustrated by <strong>transactional</strong> learning: <strong>1 in 3 leaders are &quot;extremely concerned&quot; about L&amp;D&#39;s short-term focus</strong>, and L&amp;D is perceived to have a very small contribution to the development of future critical skills. Leaders often have bigger aspirations for their L&amp;D functions, with over half of leaders wanting L&amp;D to aid in business transformation and growth. Other major leadership goals also involve long-term changes in strategy or business structure: developing agile teams; developing a high impact learning culture; improving talent management strategy. </p>
<p>Turning our attention to L&amp;D achievements (as reported by L&amp;D professionals) the most success is found at the transactional level, addressing immediate training needs. Longer-term activities do not see nearly as much success. To give an example, <strong>despite 90% of L&amp;D professionals aiming to contribute to business transformation and innovation, only 21% achieve this goal</strong>. The divide between leadership wants and L&amp;D achievements is evident in the fact that <strong>the average leader believes L&amp;D makes a &quot;significant contribution&quot; to only 1 of their top 5 business priorities</strong>. In addition, <strong>only 24% of leaders understood how L&amp;D adds value to their business</strong>. </p>
<p>There are two reasons, then, why business leaders feel their L&amp;D functions are not making a big impact. Firstly, the impact may be invisible to leaders because it is not the impact they are looking for. Leaders are unlikely to see the value of L&amp;D contributions if they are not aligned with their overarching business goals. The second reason being that impact is not perceived by leaders because it is obscured by an isolated, disorganised L&amp;D function. How could a leader understand the impact of L&amp;D if they are unaware of what the function is even doing? </p>
<p>The journey to overcoming both of these barriers to visible L&amp;D impact starts with communication.</p>

<br>
<h3><strong>Becoming visible: communication and quantification</strong> </h3>
<p>Regular communication is a marker of high performing learning cultures. 74% of top performing L&amp;D functions regularly communicate how learning benefits the business, compared to only 10% of those performing the worst (according to our measure of L&amp;D maturity). Similarly, 72% of top performers report learning impact to senior management, compared to 6% of least developed L&amp;D functions. </p>
<p>Communication with business leaders leads to success for a few reasons. For one reason, it can combat perceptions of invisibility and isolation by allowing internal structures and goals to be discussed. This is beneficial for L&amp;D as leaders are unlikely to appreciate the value of L&amp;D in their business if their L&amp;D functions do not report on what they are doing and why they are doing it. This tells leaders (or any stakeholders) where to look to see the impact of L&amp;D.</p>
<p>One finding that might be a consequence of poor L&amp;D communication is that leaders‚Äô second biggest concern for L&amp;D was a lack of investment and resources. Given that leaders are the ones who a responsible for that investment, it follows that even though they are aware that L&amp;D performance is limited by its resources, they are hesitant to make a commitment to overcoming that barrier. Why? Perhaps because L&amp;D are not presenting a cohesive vision, or even simple performance reports.</p>
<p>A further advantage of communication is that it allows for collaboration with leadership to establish performance metrics, and for an opportunity to present numerical evidence of impact. As elaborated below, leaders‚Äô appreciation of L&amp;D value depends heavily on the use of numbers (i.e., metrics and data) within their L&amp;D function. </p>

<br>
<h3><strong>The power of numbers</strong></h3>
<p>Over 60% of business leaders agreed that L&amp;D activities were aligned with business strategy, yet they do not seem to appreciate the value and contribution of L&amp;D. This indicates that the key to promoting the value of L&amp;D is not simply strategic agreement. According to our data, the biggest factors in leadership&#39;s appreciation of L&amp;D are more concrete, and widely implemented at high performing learning cultures.</p>
<p>Namely, the use of data analysis, performance benchmarking, and the establishment of performance metrics are the top three factors in leaders&#39; understanding of the value of L&amp;D. <strong>Leveraging data analysis <em>and</em> performance benchmarking makes company leaders <em>12 times</em> more likely to understand how investment in learning adds value to their business</strong>. And as you might expect, all else being equal, leaders who collaborate with L&amp;D functions to identify quantifiable goals for learning are far more likely (around 4 times as likely) to see the strategic value of L&amp;D activities. These are <em>huge</em> multipliers, showing the massive potential of quantifying L&amp;D.</p>
<br>
<div class="box-banner-wrapper">
  <!-- <div style="padding: 5%; border-radius: 6px; background-color: #323337; color: white"> -->
  <div class="banner" style="background-color: #f0f0f0; color: black">
    According to our most recent research, top performing L&amp;D functions are far more likely to have data analysis skills in house. That&#39;s 54% compared to 11% of those in the lowest stage of development. Top performers are also better at addressing leadership&#39;s long-term goals, with 34% of them having facilitated business innovation and growth compared to 9% of the low-performers.
  </div>
</div>
<br>
<p>Of course, it is not easy to develop a system for measuring and analysing L&amp;D success. This is the perennial problem for L&amp;D in the data-driven age. The problem is exasperated by the fact that only 22% of L&amp;D professionals have data analysis skills in-house, and the majority of L&amp;D professionals are unable to measure key aspects of their work (e.g., the impact of digitization). Due to the magnitude of this issue, there has been a lot written on the subject<sup class='md-footnote'><a href='#dfref-footnote-9' name='ref-footnote-9'>9</a></sup>. However, these discussions often centre around the evaluation of individual training programmes. To quantify the general impact of an L&amp;D function is another challenge. </p>

<br>
<h3><strong>How to use numbers</strong></h3>
<p>There are many possible ways to measure and track general L&amp;D performance. For example, one could focus on long term behavioural change, measures of learning culture, cognitive ability improvements, or monetary return on investment. <strong>Whatever the chosen metrics of L&amp;D success, it is important that leaders are involved in the discussion</strong>. If a leader does not agree with the rationale behind the performance metrics, then any analysis of those metrics will fail to get through to that leader, making them tenuous in their assessment of L&amp;D success. </p>
<p>A properly established metric neatly summarises the perspectives of those who developed it. Working together with leaders to select appropriate performance metrics facilitates a discussion about what is important for L&amp;D. The resultant metrics will represent the conclusions of this discussion, meaning both leaders and L&amp;D professionals will understand what the number means and how it relates to the wider business. In other words, <strong>collaboratively establishing performance metrics with business leaders forces strategic alignment <em>and</em> provides a framework by which L&amp;D can deliver evidence of impact</strong>.</p>
<p>Given the advantage of harnessing performance metrics, it is important to avoid completely reducing L&amp;D performance to just a few numbers. There are many aspects of the learning experience that are not quantitative, making attempts to quantify them meaningless at best and dangerous in some cases<sup class='md-footnote'><a href='#dfref-footnote-10' name='ref-footnote-10'>10</a></sup><sup class='md-footnote'><a href='#dfref-footnote-11' name='ref-footnote-11'>11</a></sup>. Any given metric should never be taken as the <em>sole indicator</em> of L&amp;D performance. Rather, metrics should be used as guidelines or decision aides. And, in this case, we are suggesting they should be used as tools for communication with leadership.</p>

<br>
<div class="box-banner-wrapper">
  <div style="padding: 5%; border-radius: 6px; background-color: #f0f0f0; color: black">
    If you want to measure your progress toward L&amp;D success, and compare your performance to L&amp;D departments in your industry, you can do that for free with the Learning Health Check. If you are already a user, then make sure you communicate to seniors about your results and what they mean for the business.
    <div class="section__button">
      <a class="button button--primary button--inversed button--inversed" href="https://emeraldworks.com/research/learning-health-check" target="_target">Learn more here</a>
    </div>
  </div>
</div>


<br>
<h2 id="conclusion-"><strong>Conclusion</strong></h2>
<p>To reiterate, leaders generally feel positively towards learning, at both the organisational and individual level. And, overall, they are only majorly concerned about a few aspects of L&amp;D. However, leaders may not fully appreciate the value of L&amp;D due to its &quot;invisibility&quot;, i.e., the internal processes and impact of L&amp;D can go unnoticed. The use of data analysis and performance benchmarking seem to be the most important variables in demonstrating the value of L&amp;D to leadership.</p>
<p>Communicating internal activity puts L&amp;D on the map and allows for the establishment of performance metrics in collaboration with leaders. These metrics can then be used to track and improve performance, giving leaders an easily understood representation of L&amp;D success and how that relates to wider business goals.</p>
<br>

<h2><strong>Want more?</strong></h2>
<p style="font-size: 1.1em">For more insights into learning and organisational development, see Emerald Works&#39; research reports <a href="https://emeraldworks.com/research-and-reports" style="text-decoration: underline">here</a>.</p>

<br>
<hr>
<h3>Here's how we arrived at the insights presented in this report.</h3>
<br>
<div class="banner" id="methodology">
    <h2>Methodology</h2>
    <br>
    <h3><strong>The data</strong></h3>
    <p>Our survey asked 260 executive managers from multinational corporations for their perspectives on L&amp;D within their company, and how they would like their L&amp;D functions to behave. </p>
    <p>This report also uses data from thousands of L&amp;D leaders and professionals around the world. See this report for a detailed explanation of how this data was collected.</p>
    <p>In total, responses to both surveys came from a total of 67 countries, covering every major region of the world. Regional analysis was not possible, however, due to small sample sizes in Asia, Africa and Oceania.</p>
    <br>
    <h3><strong>Analysis</strong></h3>
    <p>As well as simple inspection and comparison, more sophisticated statistical techniques were used to analyse survey responses: </p>
    <p>¬∑    <strong>Decision trees</strong>: this is a machine learning technique that (among other things) identifies which variables are most useful for predicting a specified variable. For example, below we try to find what best predicts a leader&#39;s appreciation of L&amp;D value. The most important predictor turned out to be the use of data analytics. In other words, if you had to use only one thing from our dataset to guess a leader&#39;s understanding of L&amp;D value, you should look at their L&amp;D department&#39;s use of data.</p>
    <p>¬∑    <strong>Logistic regression</strong>: this technique allows for the calculation of probabilities associated with changes in specified variables. Given that the use of data analysis is a strong predictor of leaders&#39; appreciation of L&amp;D, applying logistic regression allows one to express this relationship in probabilistic terms, e.g., &quot;leaders are <em>X times</em> as likely to appreciate L&amp;D value if they use data analytics&quot;. Essentially, this technique was used to better communicate what was found using the decision trees, the results of which cannot be as easily expressed in practical terms. </p>
    <p>These techniques allowed for an in-depth exploration of the data, revealing actionable insights for L&amp;D professionals. </p>
</div>
<hr>

<br>
<h3>References</h3>
<div class='footnotes-area'>
<div class='footnote-line'><span class='md-fn-count'>1 &nbsp;</span> <a href='https://www.weforum.org/reports/the-future-of-jobs-report-2018'>The Future of Jobs Report 2018</a>, <em>World Economic Forum</em>, 2018 <a name='dfref-footnote-1' href='#ref-footnote-1' title='back to document' class='reversefootnote' >‚Ü©</a></div>
<div class='footnote-line'><span class='md-fn-count'>2 &nbsp;</span> <a href='https://www.weforum.org/reports/the-future-of-jobs-report-2020'>The Future of Jobs Report 2020</a>, <em>World Economic Forum</em>, 2020 <a name='dfref-footnote-2' href='#ref-footnote-2' title='back to document' class='reversefootnote' >‚Ü©</a></div>
<div class='footnote-line'><span class='md-fn-count'>3 &nbsp;</span> <a href='https://www.mckinsey.com/business-functions/organization/our-insights/beyond-hiring-how-companies-are-reskilling-to-address-talent-gaps'>Beyond hiring: How companies are reskilling to address talent gaps</a>, <em>McKinsey</em>, 2020 <a name='dfref-footnote-3' href='#ref-footnote-3' title='back to document' class='reversefootnote' >‚Ü©</a></div>
<div class='footnote-line'><span class='md-fn-count'>4 &nbsp;</span> <a href='https://www.pwc.com/gx/en/ceo-agenda/ceosurvey/2020.html?utm_campaign=sbpwc&amp;utm_medium=site&amp;utm_source=articletext#cs23DataExplorer'>23rd Annual Global CEO Survey</a>, <em>PwC</em>, 2020 <a name='dfref-footnote-4' href='#ref-footnote-4' title='back to document' class='reversefootnote' >‚Ü©</a> <a name='dfref-footnote-4-1' href='#ref-footnote-4-1' title='back to document' class='reversefootnote' >‚Ü©</a></div>
<div class='footnote-line'><span class='md-fn-count'>5 &nbsp;</span> Dirani et al. (2020), <em>Human Resource Development International</em>, <em>23</em>(4), 380-394. <a name='dfref-footnote-5' href='#ref-footnote-5' title='back to document' class='reversefootnote' >‚Ü©</a></div>
<div class='footnote-line'><span class='md-fn-count'>6 &nbsp;</span> <a href='https://www.mckinsey.com/business-functions/organization/our-insights/to-emerge-stronger-from-the-covid-19-crisis-companies-should-start-reskilling-their-workforces-now'>To emerge stronger from the COVID-19 crisis, companies should start reskilling their workforces now</a>, <em>McKinsey</em>, 2020 <a name='dfref-footnote-6' href='#ref-footnote-6' title='back to document' class='reversefootnote' >‚Ü©</a></div>
<div class='footnote-line'><span class='md-fn-count'>7 &nbsp;</span> <a href='https://www.mckinsey.com/business-functions/organization/our-insights/building-capabilities-for-performance'>Building capabilities for performance</a>, <em>McKinsey</em>, 2015 <a name='dfref-footnote-7' href='#ref-footnote-7' title='back to document' class='reversefootnote' >‚Ü©</a></div>
<div class='footnote-line'><span class='md-fn-count'>8 &nbsp;</span> <a href='https://www.cipd.asia/Images/preparing-for-the-future-of-learning_2016-a-changing-perspective-for-l-and-d-leaders_tcm23-13846.pdf'>Future of learning: a changing perspective for L&amp;D leaders</a>, <em>Towards Maturity</em>, 2016 <a name='dfref-footnote-8' href='#ref-footnote-8' title='back to document' class='reversefootnote' >‚Ü©</a></div>
<div class='footnote-line'><span class='md-fn-count'>9 &nbsp;</span> e.g., <a href='https://www.cipd.co.uk/knowledge/fundamentals/people/development/evaluating-learning-factsheet'>Evaluating learning and development</a>, CIPD, 2020 <a name='dfref-footnote-9' href='#ref-footnote-9' title='back to document' class='reversefootnote' >‚Ü©</a></div>
<div class='footnote-line'><span class='md-fn-count'>10 &nbsp;</span> <a href='https://dergipark.org.tr/tr/pub/ier/issue/54778/747554'>Using Numbers to Persuade: Hidden Rhetoric of Statistics</a> Ba≈ü√ßƒ± and Hassan (2020), <em>International Econometric Review</em><a name='dfref-footnote-10' href='#ref-footnote-10' title='back to document' class='reversefootnote' >‚Ü©</a></div>
<div class='footnote-line'><span class='md-fn-count'>11 &nbsp;</span> <a href='https://doi.org/10.1506/568U-W2FH-9YQM-QG30'>Quantification and Persuasion in Managerial Judgement</a> Kadous et al. (2010), <em>Contemporary Accounting Research</em><a name='dfref-footnote-11' href='#ref-footnote-11' title='back to document' class='reversefootnote' >‚Ü©</a></div></div>

</div>
</div>
</div>

<!-- DATA and colors -->
<script type="text/javascript">
  const goals_data = [
    {"goal":"Quality of work performed","top_5":79,"top_1":49,"no":0,"small":7,"mod":45,"sig":48,"am.no":0,"am.sm":0,"am.mod":40,"am.sig":60,"eu.no":0,"eu.sm":0,"eu.mod":62,"eu.sig":38},
    {"goal":"Business transformation, innovation and growth","top_5":65,"top_1":19,"no":6,"small":36,"mod":32,"sig":25,"am.no":0,"am.sm":27,"am.mod":47,"am.sig":26,"eu.no":9,"eu.sm":38,"eu.mod":27,"eu.sig":25},
    {"goal":"Digital environment and capability","top_5":38,"top_1":7,"no":3,"small":36,"mod":46,"sig":15,"am.no":10,"am.sm":30,"am.mod":60,"am.sig":0,"eu.no":2,"eu.sm":37,"eu.mod":44,"eu.sig":17},
    {"goal":"Organisational performance","top_5":37,"top_1":7,"no":3,"small":23,"mod":35,"sig":38,"am.no":0,"am.sm":0,"am.mod":33,"am.sig":67,"eu.no":4,"eu.sm":29,"eu.mod":35,"eu.sig":31},
    {"goal":"Employee engagement and motivation","top_5":33,"top_1":3,"no":4,"small":27,"mod":36,"sig":32,"am.no":0,"am.sm":33,"am.mod":13,"am.sig":53,"eu.no":6,"eu.sm":26,"eu.mod":36,"eu.sig":32},
    {"goal":"Development of agile working","top_5":32,"top_1":2,"no":5,"small":23,"mod":45,"sig":26,"am.no":5,"am.sm":29,"am.mod":48,"am.sig":19,"eu.no":2,"eu.sm":24,"eu.mod":38,"eu.sig":35},
    {"goal":"Learning culture","top_5":32,"top_1":5,"no":4,"small":24,"mod":36,"sig":37,"am.no":0,"am.sm":15,"am.mod":38,"am.sig":46,"eu.no":6,"eu.sm":26,"eu.mod":31,"eu.sig":37},
    {"goal":"Organizational reputation","top_5":29,"top_1":1,"no":5,"small":23,"mod":45,"sig":26,"am.no":0,"am.sm":0,"am.mod":50,"am.sig":50,"eu.no":14,"eu.sm":28,"eu.mod":43,"eu.sig":14},
    {"goal":"Organisational problem solving","top_5":29,"top_1":5,"no": 2,"small":10,"mod":35,"sig":50,"am.no":0,"am.sm":8,"am.mod":41,"am.sig":50,"eu.no":3,"eu.sm":11,"eu.mod":33,"eu.sig":53},
    {"goal":"Talent strategies","top_5":28,"top_1":2,"no":6,"small":29,"mod":35,"sig":29,"am.no":0,"am.sm":38,"am.mod":6,"am.sig":56,"eu.no":9,"eu.sm":30,"eu.mod":44,"eu.sig":19},
    {"goal":"Customer satisfaction","top_5":26,"top_1":1,"no":6,"small":29,"mod":38,"sig":27,"am.no":9,"am.sm":18,"am.mod":27,"am.sig":45,"eu.no":5,"eu.sm":32,"eu.mod":41,"eu.sig":22},
    {"goal":"Business intelligence","top_5":25,"top_1":1,"no":18,"small":26,"mod":44,"sig":12,"am.no":25,"am.sm":50,"am.mod":25,"am.sig":0,"eu.no":16,"eu.sm":24,"eu.mod":48,"eu.sig":12},
    // {"goal":"Regulatory requirements","top_5":25,"top_1":10,"no":0,"small":85,"mod":8,"sig":8},
    {"goal":"Employee productivity","top_5":24,"top_1":3,"no":9,"small":28,"mod":28,"sig":35,"am.no":18,"am.sm":9,"am.mod":9,"am.sig":64,"eu.no":6,"eu.sm":34,"eu.mod":34,"eu.sig":25},
    {"goal":"Reduction of operational costs","top_5":22,"top_1":4,"no":18,"small":50,"mod":20,"sig":13,"am.no":8,"am.sm":38,"am.mod":23,"am.sig":31,"eu.no":23,"eu.sm":53,"eu.mod":20,"eu.sig":5},
    {"goal":"Attraction of talent","top_5":22,"top_1":2,"no":3,"small":22,"mod":33,"sig":41,"am.no":0,"am.sm":17,"am.mod":8,"am.sig":67,"eu.no":5,"eu.sm":23,"eu.mod":35,"eu.sig":37},
    {"goal":"Improvement of future critical capabilities","top_5":18,"top_1":4,"no":12,"small":24,"mod":48,"sig":17,"am.no":9,"am.sm":36,"am.mod":36,"am.sig":18,"eu.no":12,"eu.sm":19,"eu.mod":52,"eu.sig":16},
    {"goal":"Business expansion","top_5":16,"top_1":4,"no":17,"small":40,"mod":36,"sig":7,"am.no":33,"am.sm":33,"am.mod":25,"am.sig":8,"eu.no":8,"eu.sm":44,"eu.mod":44,"eu.sig":4},
    {"goal":"Communication and teamwork","top_5":14,"top_1":1,"no":3,"small":18,"mod":53,"sig":26,"am.no":0,"am.sm":18,"am.mod":73,"am.sig":9,"eu.no":4,"eu.sm":17,"eu.mod":43,"eu.sig":35},
    {"goal":"Staff retention","top_5":12,"top_1":0,"no":4,"small":26,"mod":22,"sig":48,"am.no":0,"am.sm":27,"am.mod":9,"am.sig":64,"eu.no":6,"eu.sm":25,"eu.mod":31,"eu.sig":38},
    {"goal":"Staff compliance","top_5":11,"top_1":0,"no":3,"small":23,"mod":55,"sig":19,"am.no":0,"am.sm":40,"am.mod":50,"am.sig":24,"eu.no":5,"eu.sm":14,"eu.mod":57,"eu.sig":24},
    {"goal":"Learning in the workflow","top_5":10,"top_1":0,"no":9,"small":41,"mod":33,"sig":17,"am.no":0,"am.sm":30,"am.mod":50,"am.sig":20,"eu.no":11,"eu.sm":44,"eu.mod":28,"eu.sig":17}
  ].reverse();

  const contrib_color = d3.scaleOrdinal()
                          .domain(["no", "small", "mod", "sig"])
                          .range(["#fe3298", "#fe3298", "#329799", "#329799"])

  const concern_data = [
    {"barrier": "Focus on short term issues", "extreme":34,"some":39,"none":27,"e.am":28,"s.am":52,"n.am":20,"e.eu":35,"s.eu":39,"n.eu":26},
    {"barrier": "Lack of investment or shortage of resources","extreme":29,"some":48,"none":23,"e.am":44,"s.am":36,"n.am":20,"e.eu":24,"s.eu":51,"n.eu":25},
    {"barrier": "Lack of high-quality content","extreme":21,"some":50,"none":29,"e.am":16,"s.am":44,"n.am":40,"e.eu":21,"s.eu":52,"n.eu":27},
    {"barrier": "Lack of strategic L&D influence","extreme":18,"some":55,"none":27,"e.am":13,"s.am":58,"n.am":29,"e.eu":19,"s.eu":54,"n.eu":27},
    {"barrier": "Organisational learning is not valued enough","extreme":22,"some":47,"none":31,"e.am":16,"s.am":52,"n.am":32,"e.eu":22,"s.eu":48,"n.eu":31},
    {"barrier": "Employees cannot manage own learning","extreme":18,"some":51,"none":31,"e.am":24,"s.am":48,"n.am":28,"e.eu":16,"s.eu":49,"n.eu":36},
    {"barrier": "Unreliable IT infrastructure","extreme":17,"some":39,"none":44,"e.am":36,"s.am":28,"n.am":36,"e.eu":11,"s.eu":41,"n.eu":49},
    {"barrier": "Reluctance of managers to engage with learning","extreme":15,"some":40,"none":45,"e.am":20,"s.am":32,"n.am":48,"e.eu":8,"s.eu":44,"n.eu":48},
    {"barrier": "Structural change of the learning team","extreme":14,"some":40,"none":46,"e.am":16,"s.am":28,"n.am":56,"e.eu":12,"s.eu":42,"n.eu":46},
    {"barrier": "Focus on individual rather than team success","extreme":9,"some":46,"none":45,"e.am":0,"s.am":50,"n.am":50,"e.eu":10,"s.eu":45,"n.eu":45},
  ].reverse();

  const compare_data = [
    {"goal": "Innovation and business growth","leader":"2nd","ld_rank":"15th+","ld_ach":21,"tp":38},
    {"goal": "Organisational performance","leader":"4th","ld_rank":"5th","ld_ach":25,"tp":45},
    {"goal": "Employee engagment","leader":"5th","ld_rank":"3rd","ld_ach":24,"tp":46},
    {"goal": "Learning culture","leader":"7th","ld_rank":"1st","ld_ach":22,"tp":38},
    // {"goal": "Build problem solving capability","leader":"9th","ld_rank":"13th","ld_ach":22,"tp":43},
    {"goal": "Job productivity","leader":"14th","ld_rank":"15th+","ld_ach":27,"tp":50},
    {"goal": "Communication and teamwork","leader":"15th+","ld_rank":"9th","ld_ach":28,"tp":49},
    {"goal": "Learning within the workflow","leader":"15th+","ld_rank":"15th+","ld_ach":20,"tp":26},
    {"goal": "Attracting talent","leader":"15th+","ld_rank":"15th+","ld_ach":34,"tp":61},
    {"goal": "Business intelligence","leader":"12th","ld_rank":"15th+","ld_ach":16,"tp":26}
  ]

</script>

<!-- GOAL CHART, appends to svg with id "goal_chart" -->
<script type="text/javascript">

  // set some attributes of svg
  d3.select("#goal_chart")
    .attr("height", "500px")
    .attr("width", "100%")

  // set the dimensions and margins of the graph
  var margin = {top: 20, right: 50, bottom: 30, left: 370},
    width = d3.select("#goal_chart").node().getBoundingClientRect().width - margin.left - margin.right,
    height = d3.select("#goal_chart").node().getBoundingClientRect().height - margin.top - margin.bottom;

  // set the ranges
  var goals_y = d3.scaleBand()
                  .range([height, 0])
                  .padding(0.1);

  var goals_x = d3.scaleLinear()
                  .range([0, width]);

  // append the svg object to the body of the page
  // append a 'group' element to 'svg'
  // moves the 'group' element to the top left margin
  var goals_svg = d3.select("#goal_chart")
              .attr("width", width + margin.left + margin.right)
              .attr("height", height + margin.top + margin.bottom)
              .append("g")
              .attr("transform",
                "translate(" + margin.left + "," + margin.top + ")");

  // Scale the range of the data in the domains
  goals_x.domain([0, 80])
  goals_y.domain(goals_data.map(function(d) { return d.goal; }));

  // append the rectangles for the bar chart
  goals_svg.selectAll("rect")
     .data(goals_data)
     .enter()
     .append("rect")
     .attr("fill", "#31ab91")
     .attr("y", function(d) { return goals_y(d.goal); })
     .attr("height", goals_y.bandwidth())
     .attr("width", 0)
     .on("mouseover", function(d, i) {

       // highlight current bar and text
       var barUnderMouse = this;
       d3.select("#goal_chart").selectAll('rect').transition("opacity").style('opacity', function() {
         return (this === barUnderMouse) ? 1.0 : 0.5;
       });

       d3.select("#goal_chart").select(".goals_desc").selectAll('text').transition("opacity").style('opacity', function(d) {
         return (d.goal === i.goal) ? 1.0 : 0;
       })

       d3.select("#goal_chart").selectAll(".yAxis text").transition("opacity").attr("font-weight", d => {
         return (d === i.goal) ? "bold" : "normal"
       })
     })

     .on("mouseout", ()=> {
       d3.select("#goal_chart").selectAll('rect').transition("opacity").style('opacity', 1);
       d3.select("#goal_chart").select(".goals_desc").selectAll('text').transition("opacity").style('opacity', 0);
       d3.select("#goal_chart").selectAll(".yAxis text").transition("opacity").attr("font-weight", "normal");
     })

  // add the x Axis
  goals_svg.append("g")
     .attr("class", "xAxis")
     .attr("transform", "translate(0," + height + ")")
     .call(
       d3.axisBottom(goals_x)
          .tickFormat((d) => { return d + "%" })
          .tickSize(-height)
      )

  d3.selectAll(".domain")
    .attr("opacity", 0)

  d3.selectAll(".tick line")
    .attr("opacity", 0.6)
    .style("")

  // add the y Axis
  goals_svg.append("g")
     .attr("class", "yAxis")
     .call(d3.axisLeft(goals_y));

  d3.selectAll(".tick text")
   .attr("font-size","1.5em")
   .attr("font-family", "sans-serif")

   // percentage labels
   var goals_desc = d3.select("#goal_chart")
                      .select("g")
                      .append("g")
                      .attr("class", "goals_desc")
                      .selectAll("p")
                      .data(goals_data)
                      .enter()
                      .append("text")
                      .attr("opacity", 0)
                      .attr("x", 0)
                      .attr("y", d => {return goals_y(d.goal) + goals_y.bandwidth() - 3})

  // animate bars from 0 to data value
  const update_goal_chart = function(user_select) {

    goals_svg.selectAll("rect")
       //.attr("width", 0)
       .transition("grow")
       .duration(800)
       // /.attr("width", function(d) {return 0;})
       .attr("width", function(d) {
         if (user_select == 5) {
           return goals_x(d.top_5);
         } else {
           return goals_x(d.top_1);
         }
       })
       .delay(function(d,i){return(i*50)})

    if (user_select == 5) {
      goals_desc.text((d) => d.top_5 + "%")
                .transition("label-move")
                .duration(800)
                .attr("x", d => {return goals_x(d.top_5) + 6})
                .delay(function(d,i){return(i*50)})
    } else {
      goals_desc.text((d) => d.top_1 + "%")
                .transition("label-move")
                .duration(800)
                .attr("x", d => {return goals_x(d.top_1) + 6})
                .delay(function(d,i){return(i*50)})
    }
  }

  // initialise as showing top 5 percentages
  update_goal_chart(5)
</script>

<!-- CONTRIB CHART, svg id "contrib_chart" -->
<script type="text/javascript">

  // "stacking" data for stacked bar chart
  const stackGoals = d3.stack().keys(["no", "small", "mod", "sig"])
  const stackGoalsAm = d3.stack().keys(["am.no", "am.sm", "am.mod", "am.sig"])
  const stackGoalsEU = d3.stack().keys(["eu.no", "eu.sm", "eu.mod", "eu.sig"])

  const stacked_goals = stackGoals(goals_data)
  const stacked_goals_am = stackGoalsAm(goals_data)
  const stacked_goals_eu = stackGoalsEU(goals_data)

  // set some attributes of svg
  d3.select("#contrib_chart")
    .attr("height", "500px")
    .attr("width", "100%")

  const update_contrib = function(data) {

    d3.select("#contrib_chart").selectAll("g").remove()

    // set the dimensions and margins of the graph
    var margin = {top: 5, right: 50, bottom: 30, left: 370},
      width = d3.select("#contrib_chart").node().getBoundingClientRect().width - margin.left - margin.right,
      height = d3.select("#contrib_chart").node().getBoundingClientRect().height - margin.top - margin.bottom;

    // make new x scale, so it can have different domain
    var contrib_x = d3.scaleLinear()
                    .range([0, width]);

    var contrib_y = d3.scaleBand()
                    .range([height, 0])
                    .padding(0.1);

    // append the svg object to the body of the page
    // append a 'group' element to 'svg'
    // moves the 'group' element to the top left margin
    var contrib_svg = d3.select("#contrib_chart")
                .attr("width", width + margin.left + margin.right)
                .attr("height", height + margin.top + margin.bottom)
                .append("g")
                .attr("transform",
                  "translate(" + margin.left + "," + margin.top + ")");

    // Scale the range of the data in the domains
    contrib_x.domain([0, 100])
    contrib_y.domain(goals_data.map(function(d) { return d.goal; }));

    // bar and text groups
    var bars = contrib_svg.append("g").attr("class", "contrib_desc")
       .selectAll("g")
       // Enter in the stack data = loop key per key = group per group
       .data(data)
       .enter().append("g")

    // append the rectangles for the bar chart
    bars
       .attr("fill", (d, i) => contrib_color(d.key))
       .attr("opacity", (d, i) => [1, 0.7, 0.7, 1][i])
       .selectAll("rect")
       .data(d => d)
       .enter().append("rect")
       .attr("y", d => { return contrib_y(d.data.goal); })
       .attr("x", d => contrib_x(d[0]))
       .attr("stroke", "white")
       .attr("stroke-width", 2)
       .attr("height", contrib_y.bandwidth())
       .attr("width", d => {
         // hard-coding 'solution' to rounding problem
         if (d[1] < 97) {
           return(contrib_x(d[1]) - contrib_x(d[0]))
         } else {
           return(contrib_x(100) - contrib_x(d[0]))
         }
       })
       .on("mouseover", function(d, i) {

         // highlight current bar and text
         var barUnderMouse = this;
         d3.select("#contrib_chart").selectAll('rect').transition("opacity")
           .style('opacity', function() {
           return (this === barUnderMouse) ? 1.0 : 0.5;
           })
           // .attr("fill", function() {
           // return (this === barUnderMouse) ? {} : "grey";
           // })

         d3.select("#contrib_chart").selectAll('rect').transition("opacity").style('opacity', function() {
           return (this === barUnderMouse) ? 1.0 : 0.2;
         })

         bars.append("text")
             .data(i)
             .text(i[1] - i[0] + "%")
             .attr("fill", "black")
             .attr("x", contrib_x(100) + 2)
             .attr("y", contrib_y(i.data.goal) + contrib_y.bandwidth() - 3)

         d3.select("#contrib_chart").selectAll(".yAxis text").transition("opacity").attr("font-weight", d => {
           return (d === i.data.goal) ? "bold" : "normal"
         })

       })
       .on("mouseout", (d, i) => {
         d3.select("#contrib_chart").selectAll('rect').transition("opacity").style('opacity', 1);
         d3.select("#contrib_chart").select(".contrib_desc").selectAll('text').transition("opacity").style('opacity', 0)
         d3.select("#contrib_chart").selectAll(".yAxis text").transition("opacity").attr("font-weight", "normal");
         bars.selectAll('text').remove()
       })

    // add the x Axis
    contrib_svg.append("g")
       .attr("class", "xAxis")
       .attr("transform", "translate(0," + height + ")")
       .call(
         d3.axisBottom(contrib_x)
            .tickFormat((d) => { return d + "%" })
            .tickSize(-height)
        )

    d3.selectAll(".domain")
      .attr("opacity", 0)

    d3.selectAll(".tick line")
      .attr("opacity", 0.6)
      .style("")

    // add the y Axis
    contrib_svg.append("g")
       .attr("class", "yAxis")
       .call(d3.axisLeft(contrib_y));

    d3.selectAll(".tick text")
     .attr("font-size","1.5em")
     .attr("font-family", "sans-serif")
  }

  update_contrib(stacked_goals)

  // legend
  legend_svg = d3.select("#contrib_legend")
    .attr("width", "100%")
    .attr("height", "50px")
    .selectAll("g")
    .data([0,1,2,3])
    .enter()

  var width = d3.select("#contrib_legend").node().getBoundingClientRect().width,
    height = d3.select("#contrib_legend").node().getBoundingClientRect().height;

  var legend_locs = [0.9*width/7, 3*width/7, 4*width/7, 5*width/7, 6*width/7]
  // rectangles
  legend_svg
    .append("rect")
    .attr("y", 20)
    .attr("x", d => legend_locs[d+1])
    .attr("width", 20)
    .attr("height", 20)
    .attr("fill", d => contrib_color((contrib_color.domain()[d])))
    .attr("opacity", d => [1, 0.7, 0.7, 1][d])

  // text
  legend_svg
    .append("text")
    .text(d => ["none", "small", "moderate", "significant"][d])
    .attr("text-anchor", "end")
    .attr("y", 35)
    .attr("x", d => legend_locs[d+1] - 2)

  // legend title
  d3.select("#contrib_legend")
    //.append("p")
    .append("text")
    .text("Perceived contribution:")
    .attr("y", 35)
    .attr("x", legend_locs[0])
    .attr("font-weight", "bold")



</script>

<!-- CONCERN CHART, svg id "concern_chart" -->
<script type="text/javascript">

  // "stacking" data for stacked bar chart
  const stackConcern = d3.stack().keys(["extreme", "some", "none"])
  const stackConcernAm = d3.stack().keys(["e.am", "s.am", "n.am"])
  const stackConcernEU = d3.stack().keys(["e.eu", "s.eu", "n.eu"])

  const stacked_concern = stackConcern(concern_data)
  const stacked_concern_am = stackConcernAm(concern_data)
  const stacked_concern_eu = stackConcernEU(concern_data)

  // set some attributes of svg
  d3.select("#concern_chart")
    .attr("height", "300px")
    .attr("width", "100%")

  const update_concern = function(data) {

    d3.select("#concern_chart").selectAll("g").remove()

    // set the dimensions and margins of the graph
    var margin = {top: 5, right: 50, bottom: 30, left: 370},
      width = d3.select("#concern_chart").node().getBoundingClientRect().width - margin.left - margin.right,
      height = d3.select("#concern_chart").node().getBoundingClientRect().height - margin.top - margin.bottom;

    // make new x scale, so it can have different domain
    // var contrib_x = d3.scaleLinear()
    //                 .range([0, width]);
    //
    var concern_y = d3.scaleBand()
                      .range([height, 0])
                      .padding(0.1);

    var concern_x = d3.scaleLinear()
                    .range([0, width]);

    // append the svg object to the body of the page
    // append a 'group' element to 'svg'
    // moves the 'group' element to the top left margin
    var concern_svg = d3.select("#concern_chart")
                .attr("width", width + margin.left + margin.right)
                .attr("height", height + margin.top + margin.bottom)
                .append("g")
                .attr("transform",
                  "translate(" + margin.left + "," + margin.top + ")");

    // Scale the range of the data in the domains
    //contrib_x.domain([0, 100])
    concern_y.domain(concern_data.map(function(d) { return d.barrier; }));
    concern_x.domain([0, 100])

    // bar and text groups
    var concern_bars = concern_svg.append("g").attr("class", "contrib_desc")
       .selectAll("g")
       // Enter in the stack data = loop key per key = group per group
       .data(data)
       .enter().append("g")

    // append the rectangles for the bar chart
    concern_bars
       .attr("fill", (d, i) => ["#fe3298", "#fe3298", "#329799"][i])
       .attr("opacity", (d, i) => [1, 0.7, 0.7, 1][i])
       .selectAll("rect")
       .data(d => d)
       .enter().append("rect")
       .attr("y", d => { return concern_y(d.data.barrier); })
       .attr("stroke", "white")
       .attr("stroke-width", 2)
       .on("mouseover", function(d, i) {

         // highlight current bar and text
         var barUnderMouse = this;
         d3.select("#concern_chart").selectAll('rect').transition("opacity")
           .style('opacity', function() {
           return (this === barUnderMouse) ? 1.0 : 0.5;
           })
           // .attr("fill", function() {
           // return (this === barUnderMouse) ? {} : "grey";
           // })

         d3.select("#concern_chart").selectAll('rect').transition("opacity").style('opacity', function() {
           return (this === barUnderMouse) ? 1.0 : 0.2;
         })

         concern_bars.append("text")
             .data(i)
             .text(i[1] - i[0] + "%")
             .attr("fill", "black")
             .attr("x", concern_x(100) + 2)
             .attr("y", concern_y(i.data.barrier) + concern_y.bandwidth()/2 + 5)

         d3.select("#concern_chart").selectAll(".yAxis text").transition("opacity").attr("font-weight", d => {
           return (d === i.data.barrier) ? "bold" : "normal"
         })

       })
       .on("mouseout", (d, i) => {
         d3.select("#concern_chart").selectAll('rect').transition("opacity").style('opacity', 1);
         d3.select("#concern_chart").select(".contrib_desc").selectAll('text').transition("opacity").style('opacity', 0)
         d3.select("#concern_chart").selectAll(".yAxis text").transition("opacity").attr("font-weight", "normal");
         concern_bars.selectAll('text').remove()
       })
       .attr("height", concern_y.bandwidth())
       // .transition("enter")
       // .duration(1000)
       .attr("x", d => concern_x(d[0]))
       .attr("width", d => {
         // hard-coding 'solution' to rounding problem
         if (d[1] < 97) {
           return(concern_x(d[1]) - concern_x(d[0]))
         } else {
           return(concern_x(100) - concern_x(d[0]))
         }

       })

       // add the x Axis
       concern_svg.append("g")
          .attr("class", "xAxis")
          .attr("transform", "translate(0," + height + ")")
          .call(
            d3.axisBottom(concern_x)
               .tickFormat((d) => { return d + "%" })
               .tickSize(-height)
           )

       d3.selectAll(".domain")
         .attr("opacity", 0)

       d3.selectAll(".tick line")
         .attr("opacity", 0.6)
         .style("")

       // add the y Axis
       concern_svg.append("g")
          .attr("class", "yAxis")
          .call(d3.axisLeft(concern_y));

       d3.selectAll(".tick text")
        .attr("font-size","1.5em")
        .attr("font-family", "sans-serif")

  }

  update_concern(stacked_concern)

  // legend
  concern_legend_svg = d3.select("#concern_legend")
    .attr("width", "100%")
    .attr("height", "50px")
    .selectAll("g")
    .data([0,1,2])
    .enter()

  var width = d3.select("#concern_legend").node().getBoundingClientRect().width,
  height = d3.select("#concern_legend").node().getBoundingClientRect().height;

  var legend_locs = [2*width/7, 4*width/7, 5*width/7, 6*width/7]

  // rectangles
  concern_legend_svg
    .append("rect")
    .attr("y", 20)
    .attr("x", d => legend_locs[d+1])
    .attr("width", 20)
    .attr("height", 20)
    .attr("fill", d => contrib_color((contrib_color.domain()[d])))
    .attr("opacity", d => [1, 0.7, 1][d])

  // text
  concern_legend_svg
    .append("text")
    .text(d => ["extreme", "some", "none"][d])
    .attr("text-anchor", "end")
    .attr("y", 35)
    .attr("x", d => legend_locs[d+1] - 3)

  // legend title
  d3.select("#concern_legend")
    //.append("p")
    .append("text")
    .text("Level of concern:")
    .attr("y", 35)
    .attr("x", legend_locs[0])
    .attr("font-weight", "bold")


</script>

<!-- COMPARE CHART, svg id "compare_chart" -->
<script type="text/javascript">

  // set the dimensions and margins of the graph
  const compare_svg =  d3.select("#compare_chart")
                         .attr("width", "100%")
                         .attr("height", 300)
                         .append("g")
                         .attr("transform", "translate(0,20)")

  var margin = {top: 20, right: 50, bottom: 30, left: 100},
      width = d3.select("#compare_chart").node().getBoundingClientRect().width - margin.left - margin.right,
      height = d3.select("#compare_chart").node().getBoundingClientRect().height - margin.top - margin.bottom;

  compare_svg.append("text")
             .attr("id", "selected_goal_compare_chart")
             .text("Innovation and business growth")
             .attr("x", width/2.4 + width*0.07)
             .attr("y", 3)
             .attr("font-size", 32)
             .attr("text-decoration", "underline")

  // OPTIONS
  const goal_options_svg = compare_svg.append("g")
                                      .attr("class", "goal_options")

  // set default choice
  var user_choice = compare_data[0];

  // // arrows
  // goal_options_svg.selectAll("html")
  //                 .data(compare_data)
  //                 .enter()
  //                 .append("line")
  //                 .attr("x1", margin.left-50)
  //                 .attr("y1", (d, i) => margin.top + i*height/compare_data.length)
  //                 .attr("x2", width/3)
  //                 .attr("y2", (d, i) => margin.top + i*height/compare_data.length)
  //                 //.attr("fill", "white")
  //                 .attr("stroke", "#31ab91")
  //                 .on("click", (d, i) => {
  //                   set_new_rank_data(i)
  //                 })

  // text
  goal_options_svg.selectAll("text")
                  .data(compare_data)
                  .enter()
                  .append("text")
                  .attr("x", 5)
                  .attr("y", (d, i) => margin.top + i*height/compare_data.length)
                  .attr("font-weight", function(d, i) {
                    if (i == 0) {
                      return("bold")
                    } else {
                      return("normal")
                    }
                  })
                  .attr("font-size", function(d, i) {
                    if (i == 0) {
                      return("1.1em")
                    } else {
                      return("1em")
                    }
                  })
                  .html(d => "\u27A4 " + d.goal)
                  .on("click", function(d, i) {
                    goal_options_svg.selectAll("text").attr("font-weight", "normal")
                    goal_options_svg.selectAll("text").attr("font-size", "1em")
                    d3.select(this).attr("font-weight", "bold")
                    d3.select(this).attr("font-size", "1.1em")
                    set_new_rank_data(i)
                  })
                  .style("cursor", "pointer");
                  // .on("mouseover", function(d, i) {
                  //   //goal_options_svg.selectAll("line").datum()
                  //   d3.select(this).attr("font-weight", "bold")
                  //   d3.select(this).attr("font-size", "1.1em")
                  // })
                  // .on("mouseout", function() {
                  //   d3.select(this).attr("font-weight", "normal")
                  //   d3.select(this).attr("font-size", "1em")
                  // })

  // divided line
  compare_svg.append("line")
             .attr("x1", width/2.4 + width*0.05)
             .attr("y1", 0)
             .attr("x2", width/2.4 + width*0.05)
             .attr("y1", height)
             .attr("stroke", "#31ab91")

  // RANKS
  const goal_ranks_svg = compare_svg.append("g")
                                    .attr("class", "goal_ranks")
                                    .attr("transform", "translate(" + width/2.4 + "," + margin.top + ")")

  goal_ranks_svg.append("text")
                .attr("y", 20)
                .attr("x", 0.07*width)
                .attr("font-weight", "bold")
                .attr("font-size", 24)
                .text("Priority rank")
  // ranks
  goal_ranks_svg.append("text")
                .attr("id", "leader_rank_text")
                .attr("x", 0.15*width)
                .attr("y", margin.top + 75)
                .attr("font-size", 36)
                .text(user_choice.leader)
                .attr("fill", "#31ab91")

  goal_ranks_svg.append("text")
                .attr("id", "ld_rank_text")
                .attr("x", 0.15*width)
                .attr("y", margin.top + 160)
                .attr("font-size", 36)
                .text(user_choice.ld_rank)
                .attr("fill", "#31ab91")

  // titles
  goal_ranks_svg.append("text")
                .attr("x", 0.07*width)
                .attr("y", margin.top + 35)
                //.attr("font-weight", "bold")
                .attr("font-size", 24)
                .text("Leader")
  goal_ranks_svg.append("line")
                .attr("x1", 0.07*width)
                .attr("y1", margin.top + 37)
                .attr("x2", 0.17*width)
                .attr("y2", margin.top + 37)
                .attr("stroke", "black")

  goal_ranks_svg.append("text")
                .attr("x", 0.07*width)
                .attr("y", margin.top + 120)
                //.attr("font-weight", "bold")
                .attr("font-size", 24)
                .text("L&D")
  goal_ranks_svg.append("line")
                .attr("x1", 0.07*width)
                .attr("y1", margin.top + 122)
                .attr("x2", 0.17*width)
                .attr("y2", margin.top + 122)
                .attr("stroke", "black")


  // PERCENTAGES
  const perc = compare_svg.append("g")
                          .attr("transform", "translate(" + (2*width/2.7 + 10) + "," + margin.top + ")")
  perc.append("text")
      .text("Percentage of L&D success*")
      .attr("font-weight", "bold")
      .attr("font-size", 24)
      .attr("y", 20)

  // PERCENTAGE GAUGE TOP
  const fill_t = perc.append("g")
             .attr("transform", "translate(0," + (margin.top + 15 + (height-margin.top)/2) +")")
             .attr("height", 250)
             .attr("width", 250)

  fill_t.append("text")
        .attr("y", 10)
        .attr("font-size", 24)
        .text("Top performers' average")

  fill_t.append("rect")
        .attr("transform", "translate(0, 30)")
         .attr("height", 50)
         .attr("width", 150)
         .attr("fill", "#f0f0f0")

  fill_t.append("rect")
         .attr("transform", "translate(0, 30)")
         .attr("id", "fill_rect_tp")
         .attr("fill", "#31ab91")
         .attr("height", 50)
         .attr("width", user_choice.tp*1.5)

  fill_t.append("rect")
        .attr("transform", "translate(0, 30)")
        .attr("x", 150)
        .attr("y", -5)
        .attr("width", 2)
        .attr("height", 60)

  // text
  fill_t.append("text")
        .attr("id", "tween_percent_tp")
        .attr("transform", "translate(0, 30)")
        .attr("x", 170)
        .attr("y", 40)
        .attr("font-size", 50)
        .text(user_choice.tp)

  fill_t.append("text")
        .attr("transform", "translate(0, 30)")
        .attr("x", 230)
        .attr("y", 40)
        .attr("font-size", 50)
        //.attr("fill", "grey")
        .text("%")

  // PERCENTAGE GAUGE AVERAGE
  const fill_g = perc.append("g")
             .attr("transform", "translate( 0," + (margin.top + 25) +")")
             .attr("height", 250)
             .attr("width", 250)

  fill_g.append("text")
        .attr("y", 10)
        .attr("font-size", 24)
        .text("2021 average")

  fill_g.append("rect")
        .attr("transform", "translate(0, 30)")
         .attr("height", 50)
         .attr("width", 150)
         .attr("fill", "#f0f0f0")

  fill_g.append("rect")
         .attr("transform", "translate(0, 30)")
         .attr("id", "fill_rect_avg")
         .attr("fill", "#31ab91")
         .attr("height", 50)
         .attr("width", user_choice.ld_ach*1.5)

  fill_g.append("rect")
        .attr("transform", "translate(0, 30)")
        .attr("x", 150)
        .attr("y", -5)
        .attr("width", 2)
        .attr("height", 60)

  // text
  fill_g.append("text")
        .attr("id", "tween_percent_avg")
        .attr("transform", "translate(0, 30)")
        .attr("x", 170)
        .attr("y", 40)
        .attr("font-size", 50)
        .text(user_choice.ld_ach)

  fill_g.append("text")
        .attr("transform", "translate(0, 30)")
        .attr("x", 230)
        .attr("y", 40)
        .attr("font-size", 50)
        //.attr("fill", "grey")
        .text("%")


  // FUNCTION
  const set_new_rank_data = function(choice) {
    d3.select(leader_rank_text).text(choice.leader)
    d3.select(ld_rank_text).text(choice.ld_rank)

    d3.select("#fill_rect_avg").transition("fill_up_rect_avg").duration(1000).attr("width", choice.ld_ach*1.5)
    d3.select("#tween_percent_avg").transition()
        .tween("text", function() {
          var selection = d3.select(this);    // selection of node being transitioned
          var start = d3.select(this).text(); // start value prior to transition
          var end = choice.ld_ach;                     // specified end value
          var interpolator = d3.interpolateNumber(start,end); // d3 interpolator

          return function(t) { selection.text(Math.round(interpolator(t))) };  // return value

        }).duration(1000);

    d3.select("#fill_rect_tp").transition("fill_up_rect_tp").duration(1000).attr("width", choice.tp*1.5)
    d3.select("#tween_percent_tp").transition()
        .tween("text", function() {
          var selection = d3.select(this);    // selection of node being transitioned
          var start = d3.select(this).text(); // start value prior to transition
          var end = choice.tp;                     // specified end value
          var interpolator = d3.interpolateNumber(start,end); // d3 interpolator

          return function(t) { selection.text(Math.round(interpolator(t))) };  // return value

        }).duration(1000);

    d3.select("#selected_goal_compare_chart").text(choice.goal)
  }
</script>

</body>
</html>
